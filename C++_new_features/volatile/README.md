## 1. **volatile**

**volatile** **是一个类型限定符，它告诉编译器一个变量的值可能会在程序代码的控制范围之外被改变。因此，编译器不应该对这个变量的读写操作进行任何优化。**

### 核心作用

* **禁止优化**：**volatile** **的主要作用是阻止编译器优化。每次访问** **volatile** **变量时，程序都会直接从其内存地址中读取，而不是使用可能存在于寄存器中的备份。**


* **多线程环境下的共享变量** **：当多个线程共享一个变量时，一个线程的修改可能对另一个线程不可见（由于编译器优化）。**volatile **可以确保每次访问都读取内存中的最新值。但是，它** **不能** **保证原子性，通常需要配合互斥锁等同步机制使用。**
* **硬件寄存器**：在嵌入式编程中，硬件寄存器的值可能随时被硬件自身改变，而不是由程序代码改变。例如，一个表示设备状态的寄存器。
* **中断服务程序**：在中断服务程序中修改的，并且在主程序中也会被访问的全局变量。
